<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/>
  <title>Did Fourier Really Meet Möbius?</title>
  <!-- <meta content="I am first-year PhD student in the UTN Data Systems Lab, advised by Andreas Kipf. My main interest is in query optimization for cloud databases." name="description"/> -->
  <!-- <meta content="Mihail Stoian" property="og:title"/> -->
  <!-- <meta content="I am first-year PhD student in the UTN Data Systems Lab, advised by Andreas Kipf. My main interest is in query optimization for cloud databases." property="og:description"/> -->
  <!-- <meta content="Mihail Stoian" property="twitter:title"/> -->
  <!-- <meta content="I am first-year PhD student in the UTN Data Systems Lab, advised by Andreas Kipf. My main interest is in query optimization for cloud databases." property="twitter:description"/> -->
  <meta property="og:type" content="website"/><meta content="summary_large_image" name="twitter:card"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta name="google-site-verification" content="fIytXY575Nxnr06RpUCcDtBlYJnFlI2e59vCZp0TBE0" />
  <link href="assets/main.css" rel="stylesheet" type="text/css"/>
  <link href="assets/subconv.css" rel="stylesheet" type="text/css"/>
  <!-- <link rel="icon" href="assets/tsp-before.png" type="image/x-icon"/> -->
  
  <link href="https://fonts.googleapis.com" rel="preconnect"/><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous"/>
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript" />
  <script type="text/javascript">WebFont.load({  google: {    families: ["Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic","PT Serif:400,400italic,700,700italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","PT Sans:400,400italic,700,700italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  
  <!-- Enable Latex. -->
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
  <script>
    MathJax = {
      tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script" async></script>
  <!-- <link href="TODO" rel="shortcut icon" type="image/x-icon"/> -->


<!-- <script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5b7c0e0392774f00113b1368&product=inline-share-buttons' async='async'></script> -->

<script defer type="text/javascript" src="https://schema.delivery/s/d3d3Lm5hdGVsaWFzb24uY29t/install.js"></script>

<link rel="canonical" href="https://stoianmihail.github.io/" />

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@mihail_sto22326">
<meta name="twitter:title" content="Mihail Stoian: About & Blog">
<meta name="twitter:creator" content="@mihail_sto22326">

<!-- Open Graph data -->
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stoianmihail.github.io" />
<meta property="og:site_name" content="Mihail Stoian">
</head>

<body>
  <div data-collapse="small" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
    <div class="container w-container">
      <div class="div-block">
        <nav role="navigation" class="nav-menu w-nav-menu">
          <a class="nav-link w-nav-link" style="font-size: 20px;" href="assets/cv_stoian.pdf" download>CV as PDF</a>
          <!-- <a href="publications.html" target="_blank" class="nav-link w-nav-link" style="font-size: 20px;">Publications</a> -->
          <a href="index.html" class="nav-link w-nav-link" style="font-size: 20px;">About</a>
          <a href="blog.html" class="nav-link w-nav-link" style="font-size: 20px;">Blog</a>
        </nav>
      </div>      
      <div class="w-nav-button">
        <div class="w-icon-nav-menu">
        </div>
      </div>
    </div>
  </div>
  <div>
    <div class="w-container">
      <div class="content-width-div w-clearfix">
        <h3 class="home-heading">Did Fourier Really Meet Möbius?</h3>
        <div href="" class="w-richtext">
          <p>
            <b>TL;DR:</b> There is no need for Zeta/Möbius transforms in fast subset convolution. FFT suffices; even in the same running time (<a href="https://arxiv.org/abs/2404.18522">pre-print</a>). 
          </p>
          <!-- <img src="assets/tsp-before.png" alt="Description of image" style="width:auto;height:auto; display: block; margin-left: auto; margin-right: auto;" /> -->
          <!-- <p style="text-align: center; font-size: 10px;">Original: https://xkcd.com/399/</p> -->
          <p>
            I still remember the moment when I learned about fast subset convolution. I was in a move in the spring of 2022 and I saw this title "Fast Subset Convolution".
            I skimmed through the paper and once I looked at the main formulae (the one below) and something was clear to me: <em>"Wow, this is the solution to join ordering!"</em>
            <div style="text-align: center;">
              <p>
                $(f \ast g)(S)= \displaystyle\sum_{T \subseteq S} f(T) g(S \setminus T)$.
              </p>
            </div>
          </p>
          <p>
            However, there was a small problem: I could barely understand the paper.
            It took me one more year to fully get it &#8212; that's common for me.
          </p>
          
          <br />
          <h3>When Theory $\neq$ Reality</h3>
          <p>
            Fast forward in 2024 and the algorithm seems almost trivial. The main reason is that I spent several months on getting it work in join ordering (more stories at the end of the blog post).
            These months made me aware of a practical weakness of the algorithm: <em>large intermediate values</em>.
            Fortunately, I was not the only one in this: <a href="https://arxiv.org/abs/1310.1034">Kohonen and Corander</a> also reported rounding errors when using the algorithm in the wild.
          </p>

          <br />
          <h3>The Quest for a Simpler Algorithm</h3>
          <p>
            First, let's make something clear before we dive in: The algorithm of "the four Scandinavians" is really great. The influence of the FSC algorithm is still visible today.
            We just aim for an algorithm that can also enable practical applications. If simple, that's a plus.
          </p>

          <h4>A First Try</h4>
          <p>
            Before we outline the algorithm (or if you are really impatient, scroll down &#x1F644;), we show a first try and why it doesn't work.
            Let's arrange the set functions as vectors.
          </p>
          <div class="container">
            <div class="function">
              <div class="label">f:</div>
              <div class="vector" id="f">
              </div>
            </div>
        
            <div class="symbol">⊗</div>
        
            <div class="function">
              <div class="label">g:</div>
              <div class="vector" id="g">
              </div>
            </div>
        
            <div class="symbol">=</div>
        
            <div class="result">
              <div class="label">h:</div>
              <div class="vector" id="h">
              </div>
            </div>
          </div>

          <p style="color: #D3D3D3">Last update: June 7, 2024</p>
        </div>
      </div>
    </div>
  </div>
  <div>
    <!-- Preprints -->



</div>

<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5ad140380e93f3d3bbdaeb8a" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
  // Populate vectors f and g
  const f = [1, 2, 3, 4, 5, 6, 7, 8];
  const g = [8, 7, 6, 5, 4, 3, 2, 1];

  const fVector = document.getElementById('f');
  const gVector = document.getElementById('g');
  const hVector = document.getElementById('h');

  // Display values of vectors f and g
  [f, g].forEach((vector, index) => {
    vector.forEach((value, idx) => {
      const div = document.createElement('div');
      div.innerHTML = `<div class="index">${idx.toString(2).padStart(3, '0')}: </div><div class="value">${value}</div>`;
      index === 0 ? fVector.appendChild(div) : gVector.appendChild(div);
    });
  });

  // Convolution
  const h = new Array(f.length).fill(0); // Result vector h
  let step = 0; // Step counter

  function nextStep() {
    if (step >= h.length) return; // Stop if all steps are done

    h[step] = f.slice(0, step + 1).reduce((acc, val, idx) => acc + val * g[step - idx], 0);

    // Display the current value of vector h
    const div = document.createElement('div');
    div.innerHTML = `<div class="index">${step.toString(2).padStart(3, '0')}:</div><div class="value">${h[step]}</div>`;
    hVector.appendChild(div);

    step++; // Move to the next step
    setTimeout(nextStep, 1000); // Call next step after a delay
  }

  // Start the convolution process
  nextStep();
</script>

</body>
</html>